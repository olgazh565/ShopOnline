/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 985:
/***/ (function(__unused_webpack___webpack_module__, __unused_webpack___webpack_exports__, __webpack_require__) {

/* harmony import */ var _modules_timer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(920);
/* harmony import */ var _modules_controls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(377);
/* harmony import */ var _modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(615);
/* harmony import */ var _modules_serviceAPI_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63);
/* harmony import */ var _modules_createElements_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(433);
/* harmony import */ var _modules_basket_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(473);






const init = async () => {
  (0,_modules_timer_js__WEBPACK_IMPORTED_MODULE_0__/* .findTimer */ .J)();
  (0,_modules_controls_js__WEBPACK_IMPORTED_MODULE_1__/* .controlModalMenu */ .ud)();
  await (0,_modules_serviceAPI_js__WEBPACK_IMPORTED_MODULE_2__/* .getArticles */ .Zz)(_modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__/* .renderArticles */ .Ej, _modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__/* .renderPagination */ .fF, _modules_controls_js__WEBPACK_IMPORTED_MODULE_1__/* .controlPagination */ .To, _modules_controls_js__WEBPACK_IMPORTED_MODULE_1__/* .controlArrows */ .ec);
  await (0,_modules_serviceAPI_js__WEBPACK_IMPORTED_MODULE_2__/* .getArticle */ .fq)(_modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__/* .renderArticle */ .vf);
  await (0,_modules_serviceAPI_js__WEBPACK_IMPORTED_MODULE_2__/* .getDiscountProducts */ .Je)(_modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__/* .renderCards */ .UY);
  await (0,_modules_serviceAPI_js__WEBPACK_IMPORTED_MODULE_2__/* .getProductsByCategory */ .V8)(_modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__/* .renderCards */ .UY);
  const dataLS = (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .getLocalStorage */ .$o)();
  await (0,_modules_serviceAPI_js__WEBPACK_IMPORTED_MODULE_2__/* .getProduct */ .wv)(_modules_createElements_js__WEBPACK_IMPORTED_MODULE_5__/* .createProduct */ .r, _modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .addToBasket */ .H, _modules_renderElements_js__WEBPACK_IMPORTED_MODULE_3__/* .renderCards */ .UY, dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .showBasketCountHeader */ .$2)(dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .countBasketTotal */ .bN)(dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .renderBasketItems */ .T0)(dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .renderDeliveryItems */ .Ew)(dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .editItemBasket */ .T5)(dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .deleteItemBasket */ .Vj)(dataLS);
  (0,_modules_basket_js__WEBPACK_IMPORTED_MODULE_4__/* .controlCheckbox */ .wJ)();
  console.log('window.location.pathname:', window.location.pathname);
};
init();

/***/ }),

/***/ 473:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $2: function() { return /* binding */ showBasketCountHeader; },
/* harmony export */   $o: function() { return /* binding */ getLocalStorage; },
/* harmony export */   Ew: function() { return /* binding */ renderDeliveryItems; },
/* harmony export */   H: function() { return /* binding */ addToBasket; },
/* harmony export */   T0: function() { return /* binding */ renderBasketItems; },
/* harmony export */   T5: function() { return /* binding */ editItemBasket; },
/* harmony export */   Vj: function() { return /* binding */ deleteItemBasket; },
/* harmony export */   bN: function() { return /* binding */ countBasketTotal; },
/* harmony export */   wJ: function() { return /* binding */ controlCheckbox; }
/* harmony export */ });
/* unused harmony export setLocalStorage */
const renderBasketItems = dataLS => {
  const basketList = document.querySelector('.goods__list');
  if (basketList) basketList.innerHTML = '';
  const basketItems = dataLS.map(item => {
    const basketItem = document.createElement('li');
    basketItem.classList.add('goods__item');
    basketItem.id = item.id;
    basketItem.innerHTML = `
            <div class="goods__item-wrap">
                <div class="goods__checkbox-wrap">
                    <label class="goods__item-checkbox checkbox-label" 
                        aria-label="выбрать товар" tabindex="0">
                        <input class="goods__checkbox-input checkbox-input" 
                            type="checkbox">
                    </label>
                </div>
                <a href="product.html?id=${item.id}" class="goods__link-img">
                    <img class="goods__img" src="https://leaf-serious-chef.glitch.me/${item.image}"
                        alt="${item.title}" width="130px" height="130px" 
                        loading="lazy">
                </a>
            </div>
            <a class="goods__link-title" href="product.html?id=${item.id}">
                ${item.title}
            </a>
            <div class="goods__count count">
                <button class="count__change count__change_minus minus">
                    -
                </button>
                <span class="count__number">${item.count}</span>
                <button class="count__change count__change_plus plus">+</button>
            </div>
            <div class="goods__sum sum">
                <p class="sum__total">
             ${Math.round(item.count * (item.price * (1 - item.discount / 100))).toLocaleString()} ₽
                </p>
                <p class="sum__no-discount">
                    ${Math.round(item.price * item.count).toLocaleString()} ₽
                </p>
                <a class="sum__credit" href="#">В кредит от 5600 ₽</a>
            </div>
            <button class="goods__delete-btn" type="button" 
                aria-label="Удалить товар из корзины">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" 
                    viewBox="0 0 24 24" fill="currentColor">
                    <g>
                        <path d="M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 
                            19V7H6V19ZM19 4H15.5L14.5 3H9.5L8.5 4H5V6H19V4Z"/>
                    </g>
                    <defs><clippath id="clip0_222_2825"><rect width="24" 
                        height="24" fill="white"/></clippath></defs>
                </svg>
            </button>
        `;
    return basketItem;
  });
  basketList && basketList.append(...basketItems);
};
const renderDeliveryItems = data => {
  const deliveryList = document.querySelector('.delivery__list');
  if (deliveryList) deliveryList.innerHTML = '';
  const deliveryItems = data.map(item => {
    const deliveryItem = document.createElement('li');
    deliveryItem.classList.add('delivery__item');
    deliveryItem.innerHTML = `
            <a class="delivery__item-link" href="product.html?id=${item.id}">
                <img class="delivery__item-img" 
                    src="https://leaf-serious-chef.glitch.me/${item.image}" 
                    alt="${item.title}" width="80" height="80" loading="lazy">
            </a>
        `;
    return deliveryItem;
  });
  deliveryList && deliveryList.append(...deliveryItems);
};
const countBasketTotal = dataLS => {
  const basketCountMain = document.querySelector('.basket__count');
  const countTotal = document.querySelector('.total__header-sum');
  const goodsAmount = document.querySelector('.total__amount');
  const countNoDiscount = document.querySelector('.no-discount-sum');
  const discountSum = document.querySelector('.discount-sum');
  const goodsNumber = dataLS.reduce((sum, el) => sum + el.count, 0);
  const sumTotal = dataLS.reduce((sum, el) => sum + el.count * el.price * (1 - el.discount / 100), 0);
  const sumNoDiscount = dataLS.reduce((sum, el) => sum + el.count * el.price, 0);
  const sumDiscount = dataLS.reduce((sum, el) => sum + el.count * el.price * el.discount / 100, 0);
  if (basketCountMain) basketCountMain.textContent = goodsNumber;
  if (goodsAmount) goodsAmount.textContent = goodsNumber;
  if (countTotal) {
    countTotal.textContent = Math.round(sumTotal).toLocaleString() + ' ₽';
  }
  if (countNoDiscount) {
    countNoDiscount.textContent = Math.round(sumNoDiscount).toLocaleString() + ' ₽';
  }
  if (discountSum) {
    discountSum.textContent = Math.round(sumDiscount).toLocaleString() + ' ₽';
  }
};
const showBasketCountHeader = dataLS => {
  const basketCount = document.querySelector('.user__basket-count');
  const sum = dataLS.reduce((sum, el) => sum + el.count, 0);
  basketCount.textContent = sum;
};
const controlCheckbox = () => {
  const checkboxMain = document.querySelector('.controls__checkbox-input');
  const checkboxs = document.querySelectorAll('.goods__checkbox-input');
  checkboxMain && checkboxMain.addEventListener('change', () => {
    if (checkboxMain.checked) {
      checkboxs.forEach(checkbox => checkbox.checked = true);
    } else {
      checkboxs.forEach(checkbox => checkbox.checked = false);
    }
  });
};
const getLocalStorage = () => {
  const data = JSON.parse(localStorage.getItem('basket')) || [];
  return data;
};
const setLocalStorage = (item, dataLS) => {
  const index = dataLS.findIndex(el => el.id === item.id);
  if (index === -1) {
    item.count = 1;
    dataLS.push(item);
  } else {
    dataLS[index].count += 1;
  }
  localStorage.setItem('basket', JSON.stringify(dataLS));
};
const addToBasket = (item, dataLS) => {
  const addBtn = document.querySelector('.button__add-cart');
  addBtn.addEventListener('click', () => {
    setLocalStorage(item, dataLS);
    showBasketCountHeader(dataLS);
  });
};
const editItemBasket = dataLS => {
  document.addEventListener('click', ({
    target
  }) => {
    const btn = target.closest('.count__change');
    if (!btn) return;
    const id = btn.closest('.goods__item').id;
    const btnParent = btn.closest('.goods__count');
    const countValue = btnParent.children[1];
    const sums = btnParent.nextElementSibling.children;
    const sumTotal = sums[0];
    const sumNoDiscount = sums[1];
    const index = dataLS.findIndex(el => el.id === id);
    if (btn.classList.contains('minus')) {
      if (dataLS[index].count === 1) {
        dataLS.splice(index, 1);
        renderBasketItems(dataLS);
        renderDeliveryItems(dataLS);
        controlCheckbox();
      } else {
        dataLS[index].count -= 1;
      }
    } else {
      dataLS[index].count += 1;
    }
    localStorage.setItem('basket', JSON.stringify(dataLS));
    countValue.textContent = dataLS[index]?.count;
    sumTotal.textContent = (dataLS[index]?.count * dataLS[index]?.price * (1 - dataLS[index]?.discount / 100)).toLocaleString() + ' ₽';
    sumNoDiscount.textContent = (dataLS[index]?.count * dataLS[index]?.price).toLocaleString() + ' ₽';
    countBasketTotal(dataLS);
    showBasketCountHeader(dataLS);
  });
};
const deleteItem = (el, dataLS) => {
  const id = el.closest('.goods__item').id;
  const index = dataLS.findIndex(el => el.id === id);
  dataLS.splice(index, 1);
  localStorage.setItem('basket', JSON.stringify(dataLS));
  renderBasketItems(dataLS);
  renderDeliveryItems(dataLS);
  countBasketTotal(dataLS);
  showBasketCountHeader(dataLS);
  controlCheckbox();
};
const deleteItemBasket = dataLS => {
  const deleteBtn = document.querySelector('.controls__delete-all');
  const checkboxes = document.querySelectorAll('.goods__checkbox-input');
  deleteBtn && deleteBtn.addEventListener('click', () => {
    checkboxes.forEach(checkbox => {
      if (checkbox.checked) {
        deleteItem(checkbox, dataLS);
      }
    });
  });
  document.addEventListener('click', ({
    target
  }) => {
    const btn = target.closest('.goods__delete-btn');
    if (!btn) return;
    deleteItem(btn, dataLS);
  });
};

/***/ }),

/***/ 588:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: function() { return /* binding */ API_URL_CRM; },
/* harmony export */   T: function() { return /* binding */ API_URL; }
/* harmony export */ });
const API_URL = 'https://gorest.co.in/public-api';
const API_URL_CRM = 'https://leaf-serious-chef.glitch.me';

/***/ }),

/***/ 377:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   To: function() { return /* binding */ controlPagination; },
/* harmony export */   ec: function() { return /* binding */ controlArrows; },
/* harmony export */   ud: function() { return /* binding */ controlModalMenu; }
/* harmony export */ });
/* harmony import */ var _renderElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(615);


// управление пагинацией
const controlPagination = ({
  page
}) => {
  const paginationLinks = document.querySelectorAll('.pagination__page');
  paginationLinks && paginationLinks.forEach(link => {
    if (+link.innerText === page) {
      link.classList.add('is-active');
    } else {
      link.classList.remove('is-active');
    }
  });
};
const disableArrow = arrow => {
  arrow.classList.add('is-disabled');
  arrow.addEventListener('click', e => {
    e.preventDefault();
  });
};
const enableArrow = arrow => {
  arrow.classList.remove('is-disabled');
};

// управление стрелками пагинации
const controlArrows = ({
  pages: pagesTotal,
  page
}) => {
  const arrowLeft = document.querySelector('.pagination__left');
  const arrowRight = document.querySelector('.pagination__right');
  if (arrowLeft) {
    if (page === 1) {
      disableArrow(arrowLeft);
    } else {
      enableArrow(arrowLeft);
    }
  }
  if (arrowRight) {
    if (page === pagesTotal) {
      disableArrow(arrowRight);
    } else {
      enableArrow(arrowRight);
    }
  }
};

// Управление кнопкой меню

const controlModalMenu = () => {
  const menuBtn = document.querySelector('.header__menu-button');
  const modalMenu = (0,_renderElements_js__WEBPACK_IMPORTED_MODULE_0__/* .renderModal */ .rx)();
  menuBtn.addEventListener('click', () => {
    document.body.append(modalMenu);
    modalMenu.classList.toggle('show-modal');
    menuBtn.style.backgroundImage = modalMenu.classList.contains('show-modal') ? 'url(./imgs/menu-close.svg)' : 'url(./imgs/menu-open.svg)';
  });
  modalMenu.addEventListener('click', ({
    target
  }) => {
    if (target.closest('.modal__link')) {
      modalMenu.classList.remove('show-modal');
      menuBtn.style.backgroundImage = 'url(./imgs/menu-open.svg)';
    }
  });
};

/***/ }),

/***/ 433:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: function() { return /* binding */ createCard; },
/* harmony export */   r: function() { return /* binding */ createProduct; }
/* harmony export */ });
const createCard = item => {
  const card = document.createElement('li');
  card.classList.add('cards__item');
  card.id = item.id;
  card.innerHTML = `
        <a class="cards__link" href="product.html?id=${item.id}">
            <div class="cards__img">
                <picture>
                    <img src="${item.image === 'image/notimage.jpg' ? './imgs/no-foto.jpg' : `https://leaf-serious-chef.glitch.me/${item.image}`}"
                    alt="${item.title}" width="420" height="295" loading="lazy">
                </picture>
                ${item.discount ? `<span class="cards__sticker" aria-label="скидка">
                    -${item.discount}%
                    </span>}` : `<span></span>`}                 
            </div>
            <div class="cards__prices">
                <p class="cards__price-current" aria-label="цена со скидкой">
                    ${(item.price * (1 - item.discount / 100)).toFixed(0)} ₽
                </p>
                <p class="cards__price-full" aria-label="цена без скидки">
                    ${item.price} ₽
                </p>
            </div>
            <p class="cards__item-name">${item.title}</p>
        </a>
    `;
  return card;
};
const createProduct = item => {
  const product = document.querySelector('.product__wrapper');
  const breadcrumbsLink = document.querySelector('.breadcrumbs__link_product');
  const breadcrumbsTitle = document.querySelector('.breadcrumbs__item_product');
  breadcrumbsLink.href = `catalog.html?category=${item.category}`;
  breadcrumbsLink.textContent = item.category;
  breadcrumbsTitle.textContent = item.title;
  product.innerHTML = `
        <h1 class="product__title">${item.title}</h1>
    
        <div class="product__wrap">
            <div class="product__main">
                <picture>
                    <img class="product__img" 
                        src="${item.image === 'image/notimage.jpg' ? './imgs/no-foto.jpg' : `https://leaf-serious-chef.glitch.me/${item.image}`}"
                        alt="${item.title}" width="757" height="427" 
                        loading="lazy">
                </picture>
                ${item.discount ? `<span class="product__discount" 
                    aria-label="скидка">
                    -${item.discount}% </span>` : `<span></span>`}     
            </div>
            <div class="product__description description">
                <p class="description__heading">Описание:</p>
                <p class="description__text">${item.description}</p>
            </div>   
            <div class="product__details">
                <div class="product__price price">
                    <p class="price__current">
                        ${Math.round(item.price * (1 - item.discount / 100)).toLocaleString()} ₽
                    </p>
                    ${item.discount ? `<p class="price__old">
                        ${Number(item.price).toLocaleString('ru')} ₽
                    </p>` : `<p></p>`}
                </div>
                <a href="#" class="product__credit">В кредит от 5600 ₽</a>
                <div class="product__button button">
                    <button class="button__add-cart" type="button">
                        Добавить в корзину
                    </button>
                    <button class="button__add-favorite" type="button" 
                        aria-label="Добавить в избранное">
                        <svg width="33" height="33" viewBox="0 0 33 33" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_901_1437)">
                                <path d="M22.6875 4.125C20.295 4.125 17.9987 5.23875 16.5 6.99875C15.0012 5.23875 12.705 4.125 10.3125 4.125C6.0775 4.125 2.75 7.4525 2.75 11.6875C2.75 16.885 7.425 21.12 14.5062 27.555L16.5 29.3563L18.4937 27.5413C25.575 21.12 30.25 16.885 30.25 11.6875C30.25 7.4525 26.9225 4.125 22.6875 4.125ZM16.6375 25.5062L16.5 25.6437L16.3625 25.5062C9.8175 19.58 5.5 15.6613 5.5 11.6875C5.5 8.9375 7.5625 6.875 10.3125 6.875C12.43 6.875 14.4925 8.23625 15.2212 10.12H17.7925C18.5075 8.23625 20.57 6.875 22.6875 6.875C25.4375 6.875 27.5 8.9375 27.5 11.6875C27.5 15.6613 23.1825 19.58 16.6375 25.5062Z"/>
                            </g>
                            <defs><clippath id="clip0_901_1437">
                                <rect width="33" height="33" fill="white"/>
                                </clippath></defs>
                        </svg>
                    </button>
                </div>
                <ul class="product__info info">
                    <li class="info__item">
                        <p class="info__heading">Доставка</p>
                        <p class="info__text">1-3 января</p>
                    </li>
                    <li class="info__item">
                        <p class="info__heading">Продавец</p>
                        <p class="info__text">ShopOnline</p>
                    </li>
                </ul>
                <a class="product__notification notification" href="#">
                    <svg class="notification__icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 13.586V10C19 6.783 16.815 4.073 13.855 3.258C13.562 2.52 12.846 2 12 2C11.154 2 10.438 2.52 10.145 3.258C7.185 4.074 5 6.783 5 10V13.586L3.293 15.293C3.19996 15.3857 3.12617 15.4959 3.07589 15.6172C3.0256 15.7386 2.99981 15.8687 3 16V18C3 18.2652 3.10536 18.5196 3.29289 18.7071C3.48043 18.8946 3.73478 19 4 19H20C20.2652 19 20.5196 18.8946 20.7071 18.7071C20.8946 18.5196 21 18.2652 21 18V16C21.0002 15.8687 20.9744 15.7386 20.9241 15.6172C20.8738 15.4959 20.8 15.3857 20.707 15.293L19 13.586ZM19 17H5V16.414L6.707 14.707C6.80004 14.6143 6.87383 14.5041 6.92412 14.3828C6.9744 14.2614 7.00019 14.1313 7 14V10C7 7.243 9.243 5 12 5C14.757 5 17 7.243 17 10V14C17 14.266 17.105 14.52 17.293 14.707L19 16.414V17ZM12 22C12.6193 22.0008 13.2235 21.8086 13.7285 21.4502C14.2335 21.0917 14.6143 20.5849 14.818 20H9.182C9.38566 20.5849 9.76648 21.0917 10.2715 21.4502C10.7765 21.8086 11.3807 22.0008 12 22Z"/>
                    </svg>
                    <span class="notification__caption">
                        Узнать о снижении цены
                    </span>    
                </a>
            </div>
        </div>    
    `;
};

/***/ }),

/***/ 615:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ej: function() { return /* binding */ renderArticles; },
/* harmony export */   UY: function() { return /* binding */ renderCards; },
/* harmony export */   fF: function() { return /* binding */ renderPagination; },
/* harmony export */   rx: function() { return /* binding */ renderModal; },
/* harmony export */   vf: function() { return /* binding */ renderArticle; }
/* harmony export */ });
/* harmony import */ var _createElements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(433);
/* harmony import */ var _serviceAPI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63);


const renderArticles = data => {
  const articlesList = document.querySelector('.blog__list');
  const articles = data.map(({
    id,
    title
  }) => {
    const articleItem = document.createElement('li');
    articleItem.classList.add('blog__item');
    articleItem.innerHTML = `
            <a class="blog__link" href="article.html?id=${id}">
                <img class="blog__image" src="https://loremflickr.com/400/400?${Math.floor(Math.random() * 100)}"
                    alt="фото" width="195" height="195">
                <div class="blog__info">
                    <p class="blog__title" title="${title}">
                        ${title}
                    </p>
                    <p class="blog__date">22 октября 2021, 12:45</p>
                    <div class="blog__data">
                        <div class="blog__views">
                            <img class="blog__views-icon" 
                            src="./imgs/icons_eye.svg" alt="icon-eye">
                            <span class="blog__views-num">1.2K</span>
                        </div>
                        <div class="blog__comments">
                            <img class="blog__comments-icon" 
                            src="./imgs/chat.svg" alt="comments">
                            <span class="blog__comments-num">0</span>
                        </div>
                    </div>
                </div>
            </a>
        `;
    return articleItem;
  });
  articlesList && articlesList.append(...articles);
};
const renderPagination = ({
  pages: pagesTotal,
  page
}) => {
  const paginationGroup = document.querySelector('.blog__pagination');
  let previousPage;
  let currentPage;
  let nextPage;
  switch (page) {
    case 1:
      previousPage = page;
      currentPage = page + 1;
      nextPage = page + 2;
      break;
    case pagesTotal:
      previousPage = page - 2;
      currentPage = page - 1;
      nextPage = page;
      break;
    default:
      previousPage = page - 1;
      currentPage = page;
      nextPage = page + 1;
      break;
  }
  if (paginationGroup) {
    paginationGroup.innerHTML = `
        <a class="pagination__left" href="blog.html?page=${page - 1}">
            <svg width="37" height="37" viewBox="0 0 37 37" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_0_255)">
                    <path d="M32.375 16.9583H10.5296L16.0487 
                    11.4237L13.875 9.25L4.625 18.5L13.875 
                    27.75L16.0487 25.5763L10.5296 20.0417H32.375V16.9583Z"/>
                </g>
                <defs>
                    <clippath id="clip0_0_255">
                        <rect width="37" height="37" fill="white" />
                    </clippath>
                </defs>
            </svg>
        </a>
        <div class="pagination__pages">
            <a class="pagination__page" 
                href="blog.html?page=${previousPage}">
                ${previousPage}
            </a>
            <a class="pagination__page" 
                href="blog.html?page=${currentPage}">
                ${currentPage}
            </a>
            <a class="pagination__page" href="blog.html?page=${nextPage}">
                ${nextPage}
            </a>
        </div>
        <a class="pagination__right" href="blog.html?page=${page + 1}">
            <svg width="37" height="37" viewBox="0 0 37 37" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_0_258)">
                    <path d="M4.625 16.9583H26.4704L20.9513 11.4237L23.125 
                    9.25L32.375 18.5L23.125 27.75L20.9513 25.5763L26.4704
                    20.0417H4.625V16.9583Z"/>
                </g>
                <defs><clippath id="clip0_0_258">
                        <rect width="37" height="37" fill="white" 
                        transform="matrix(-1 0 0 1 37 0)" />
                    </clippath>
                </defs>
            </svg>
        </a>
    `;
  }
};
const renderArticle = async ({
  user_id: userId,
  title,
  body
}) => {
  const {
    name
  } = await (0,_serviceAPI_js__WEBPACK_IMPORTED_MODULE_0__/* .getUserName */ .vW)(userId);
  const article = document.querySelector('.article__wrapper');
  const breadCrumbsLink = document.querySelector('.breadcrumbs__item_active');
  breadCrumbsLink.textContent = title;
  article.innerHTML = `
        <h1 class="article__title">${title}</h1>
        <div class="article__texts">
            <p class="article__text">${body}</p>
        </div>
    
        <div class="article__footer">
            <a class="article__link" href="blog.html">
                <svg width="24" height="24" viewBox="0 0 24 24" 
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_114_331)">
                        <path d="M21 11H6.83L10.41 7.41L9 6L3 12L9
                            18L10.41 16.59L6.83 13H21V11Z"/>
                    </g>
                    <defs><clippath id="clip0_114_331"><rect width="24" 
                    height="24" fill="white"/></clippath></defs>
                </svg>
                <span>К списку статей</span>    
            </a>
    
            <div class="article__info">
                <p class="article__author">${name || ''}</p>
                <p class="article__date">22 октября 2021, 12:45</p>
                <div class="article__statistic">
                    <div class="article__views">
                        <img class="article__views-icon" 
                            src="./imgs/icons_eye.svg" 
                                alt="icon-eye">
                        <span class="article__views-num">1.2K</span>
                    </div>
                    <div class="article__comments">
                        <img class="article__comments-icon" 
                            src="./imgs/chat.svg" alt="comments">
                        <span class="article__comments-num">0</span>
                    </div>
                </div>
            </div>
        </div>
    `;
};
const renderModal = () => {
  const modal = document.createElement('div');
  modal.classList.add('modal');
  modal.innerHTML = `
        <div class="container modal__container">
            <div class="modal__group modal__group_catalog catalog">
                <h3 class="modal__title">Каталог</h3>
                <ul class="modal__list modal__list_catalog">
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Смартфоны">
                            Смартфоны
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Ноутбуки">
                            Ноутбуки
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Ювелирные изделия">
                            Ювелирные изделия
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Одежда">
                            Одежда
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Бытовая техника">
                            Бытовая техника
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Бытовая химия">
                            Бытовая химия
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Книги и журналы">
                            Книги и журналы
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Домашний текстиль">
                            Домашний текстиль
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Электроника">
                            Электроника
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" 
                            href="catalog.html?category=Косметика">
                            Косметика
                        </a>
                    </li>
                </ul>
            </div>
            <div class="modal__group modal__group_customers customers">
                <h3 class="modal__title">Покупателям</h3>
                <ul class="modal__list modal__list_customers">
                    <li class="modal__item">
                        <a class="modal__link" href="#">Оплата заказа</a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" href="#">Условия доставки</a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" href="#">
                            Условия возврата заказа
                        </a>
                    </li>
                    <li class="modal__item">
                        <a class="modal__link" href="blog.html">Блог</a>
                    </li>
                </ul>                
            </div>
            <div class="modal__group modal__group_contacts contacts">
                <h3 class="modal__title">Связаться с нами</h3>
                <ul class="modal__list modal__list_contacts">
                    <li class="modal__item modal__item_contacts">
                        <a class="modal__link modal__link_contacts" 
                            href="#contacts">Контакты</a>
                    </li>
                </ul>                
            </div>
        </div>
    `;
  return modal;
};
const renderCards = (data, category = '') => {
  const cardsListMain = document.querySelector('.main-cards-list');
  const cardsListBasket = document.querySelector('.basket__cards-list');
  const cardsListByCategory = document.querySelector('.category__list');
  const cardsListRecommend = document.querySelector('.recommended__products');
  if (cardsListMain) {
    cardsListMain.innerHTML = '';
    data.map(item => cardsListMain.append((0,_createElements_js__WEBPACK_IMPORTED_MODULE_1__/* .createCard */ .L)(item)));
  }
  if (cardsListBasket) {
    cardsListBasket.innerHTML = '';
    data.map(item => cardsListBasket.append((0,_createElements_js__WEBPACK_IMPORTED_MODULE_1__/* .createCard */ .L)(item)));
  }
  if (cardsListRecommend) {
    cardsListRecommend.innerHTML = '';
    data.map(item => cardsListRecommend.append((0,_createElements_js__WEBPACK_IMPORTED_MODULE_1__/* .createCard */ .L)(item)));
  }
  if (cardsListByCategory) {
    const categoryTitle = document.querySelector('.category__title');
    const categoryBreadcrumbs = document.querySelector('.breadcrumbs__item_active-catalog');
    categoryTitle.textContent = `${category}`;
    categoryBreadcrumbs.textContent = `${category}`;
    if (!data.length) {
      const warning = document.createElement('p');
      warning.classList.add('category__warning');
      warning.textContent = 'В данной категории товары отсутствуют';
      cardsListByCategory.before(warning);
    } else {
      cardsListByCategory.innerHTML = '';
      data.map(item => cardsListByCategory.append((0,_createElements_js__WEBPACK_IMPORTED_MODULE_1__/* .createCard */ .L)(item)));
    }
  }
};

/***/ }),

/***/ 63:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Je: function() { return /* binding */ getDiscountProducts; },
/* harmony export */   V8: function() { return /* binding */ getProductsByCategory; },
/* harmony export */   Zz: function() { return /* binding */ getArticles; },
/* harmony export */   fq: function() { return /* binding */ getArticle; },
/* harmony export */   vW: function() { return /* binding */ getUserName; },
/* harmony export */   wv: function() { return /* binding */ getProduct; }
/* harmony export */ });
/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(588);

const getArticles = async (renderArticles, renderPagination, controlPagination, controlArrows) => {
  const params = new URLSearchParams(window.location.search);
  if (params.has('id')) return;
  if (!window.location.pathname.includes('/blog.html')) return;
  const pageNum = params.get('page') ? params.get('page') : 1;
  try {
    const result = await fetch(`${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL */ .T}/posts?page=${pageNum}`);
    const {
      data,
      meta: {
        pagination
      }
    } = await result.json();
    console.log('data: ', data);
    renderArticles(data);
    renderPagination(pagination);
    controlPagination(pagination);
    controlArrows(pagination);
  } catch (err) {
    console.log(err);
  }
};
const getArticle = async renderArticle => {
  const params = new URLSearchParams(window.location.search);
  const urlPathname = window.location.pathname;
  if (!params.toString() || !urlPathname.includes('/article.html')) return;
  const articleId = params.get('id');
  try {
    const result = await fetch(`${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL */ .T}/posts/${articleId}`);
    const {
      data
    } = await result.json();
    console.log('data: ', data);
    renderArticle(data);
  } catch (err) {
    console.log(err);
  }
};
const getUserName = async userId => {
  try {
    const result = await fetch(`${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL */ .T}/users/${userId}`);
    const {
      data
    } = await result.json();
    return data;
  } catch (err) {
    console.log(err);
  }
};
const getDiscountProducts = async renderCards => {
  const urlPathname = window.location.pathname;
  if (window.location.href.endsWith('/') || urlPathname.includes('/index.html') || urlPathname.includes('/basket.html')) {
    try {
      const result = await fetch(`${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL_CRM */ .G}/api/goods/discount`);
      const data = await result.json();
      console.log('data: ', data);
      renderCards(data.slice(0, 8));
    } catch (err) {
      console.log(err);
    }
  }
};
const getProduct = async (createProduct, addToBasket, renderCards, dataLS) => {
  const params = new URLSearchParams(window.location.search);
  const urlPathname = window.location.pathname;
  if (!params.toString() || !urlPathname.includes('/product.html')) return;
  const productId = params.get('id');
  try {
    const result = await fetch(`${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL_CRM */ .G}/api/goods/${productId}`);
    const data = await result.json();
    console.log('data: ', data);
    const response = await fetch(`
            ${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL_CRM */ .G}/api/goods/category/${data.category}
        `);
    const goods = await response.json();
    console.log('goods: ', goods);
    createProduct(data);
    addToBasket(data, dataLS);
    renderCards(goods, data.category);
  } catch (err) {
    console.log(err);
  }
};
const getProductsByCategory = async renderCards => {
  const params = new URLSearchParams(window.location.search);
  const urlPathname = window.location.pathname;
  if (!params.toString() || !urlPathname.includes('/catalog.html')) return;
  const category = params.get('category');
  try {
    const result = await fetch(`
            ${_const_js__WEBPACK_IMPORTED_MODULE_0__/* .API_URL_CRM */ .G}/api/goods/category/${category}
        `);
    const data = await result.json();
    console.log('data: ', data);
    renderCards(data, category);
  } catch (err) {
    console.log(err);
  }
};

/***/ }),

/***/ 920:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: function() { return /* binding */ findTimer; }
/* harmony export */ });
// Считаем время до дедлайна

const getTimeRemaining = deadline => {
  const dateStop = new Date(deadline);

  // отображаем время UTC +3
  const stopHours = dateStop.getHours();
  const offsetHours = -(dateStop.getTimezoneOffset() / 60);
  const UTCHours = stopHours - offsetHours;
  dateStop.setHours(UTCHours + 3);
  const dateNow = Date.now();
  const timeLeft = dateStop - dateNow;
  const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
  const hours = Math.floor(timeLeft / (1000 * 60 * 60) % 24);
  const minutes = Math.floor(timeLeft / 1000 / 60 % 60);
  const seconds = Math.floor(timeLeft / 1000 % 60);
  return {
    timeLeft,
    days,
    hours,
    minutes,
    seconds
  };
};

// Склонение дней, часов, минут, секунд

const declOfNum = (num, words) => words[num % 100 > 4 && num % 100 < 20 ? 2 : [2, 0, 1, 1, 1, 2][num % 10 < 5 ? num % 10 : 5]];

// Добавляем 0 к одиночным цифрам часа, минут, секунд

const addZero = num => `0${num}`.slice(-2);

// Создаем верстку

const createTimer = elem => {
  elem.innerHTML = `
        <p class="timer__title">До конца акции:</p>
        <div class="timer__items">
            <p class="timer__item timer__item_days">
                <span class="timer__count timer__count_days"></span>
                <span class="timer__units timer__units_days"></span>
            </p>
            <p class="timer__item timer__item_hours">
                <span class="timer__count timer__count_hours"></span>
                <span class="timer__units timer__units_hours"></span>
            </p>
            <p class="timer__item timer__item_minutes">
                <span class="timer__count timer__count_minutes"></span>
                <span class="timer__units timer__units_minutes"></span>
            </p>
            <p class="timer__item timer__item_seconds">
                <span class="timer__count timer__count_seconds"></span>
                <span class="timer__units timer__units_seconds"></span>
            </p>
        </div>
        `;
};

// функционал таймера

const timer = (deadline, elem) => {
  const timerItemDays = document.querySelector('.timer__item_days');
  const timerItemSeconds = document.querySelector('.timer__item_seconds');
  const timerCountDays = document.querySelector('.timer__count_days');
  const timerCountHours = document.querySelector('.timer__count_hours');
  const timerCountMinutes = document.querySelector('.timer__count_minutes');
  const timerCountSeconds = document.querySelector('.timer__count_seconds');
  const timerUnitsDays = document.querySelector('.timer__units_days');
  const timerUnitsHours = document.querySelector('.timer__units_hours');
  const timerUnitsMinutes = document.querySelector('.timer__units_minutes');
  const timerUnitsSeconds = document.querySelector('.timer__units_seconds');
  const startClock = () => {
    const {
      timeLeft,
      days,
      hours,
      minutes,
      seconds
    } = getTimeRemaining(deadline);

    // отображаем значения таймера на странице

    timerCountDays.textContent = days;
    timerCountHours.textContent = addZero(hours);
    timerCountMinutes.textContent = addZero(minutes);
    timerCountSeconds.textContent = addZero(seconds);

    // отображение подписей таймера в нужном падеже

    timerUnitsDays.textContent = declOfNum(days, ['день', 'дня', 'дней']);
    timerUnitsHours.textContent = declOfNum(hours, ['час', 'часа', 'часов']);
    timerUnitsMinutes.textContent = declOfNum(minutes, ['минута', 'минуты', 'минут']);
    timerUnitsSeconds.textContent = declOfNum(seconds, ['секунда', 'секунды', 'секунд']);

    // вызываем функцию каждую секунду

    const timerId = setTimeout(startClock, 1000);

    // меняем внешний вид счетчика, когда остается меньше 24 часов

    if (days === 0) {
      timerItemDays.style.display = 'none';
      timerItemSeconds.style.display = 'flex';
    } else {
      timerItemSeconds.style.display = 'none';
      timerItemDays.style.display = 'flex';
    }

    // останавливаем счетчик и удаляем таймер со страницы

    if (timeLeft <= 0) {
      clearTimeout(timerId);
      elem.innerHTML = '';
    }
  };
  startClock();
};

// запускаем плагин

const findTimer = () => {
  const dataTimer = document.querySelectorAll('[data-timer-deadline]');
  dataTimer.forEach(elem => {
    const deadline = elem.dataset.timerDeadline;
    createTimer(elem);
    timer(deadline, elem);
  });
};

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	__webpack_require__(985);
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_require__(473);
/******/ 	__webpack_require__(588);
/******/ 	__webpack_require__(377);
/******/ 	__webpack_require__(433);
/******/ 	__webpack_require__(615);
/******/ 	__webpack_require__(63);
/******/ 	var __webpack_exports__ = __webpack_require__(920);
/******/ 	
/******/ })()
;