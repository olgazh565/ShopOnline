const getTimeRemaining=e=>{const t=new Date(e),n=t.getHours()- -t.getTimezoneOffset()/60;t.setHours(n+3);const s=t-Date.now();return{timeLeft:s,days:Math.floor(s/864e5),hours:Math.floor(s/36e5%24),minutes:Math.floor(s/1e3/60%60),seconds:Math.floor(s/1e3%60)}},declOfNum=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]],addZero=e=>`0${e}`.slice(-2),createTimer=e=>{e.innerHTML='\n        <p class="timer__title">До конца акции:</p>\n        <div class="timer__items">\n            <p class="timer__item timer__item_days">\n                <span class="timer__count timer__count_days"></span>\n                <span class="timer__units timer__units_days"></span>\n            </p>\n            <p class="timer__item timer__item_hours">\n                <span class="timer__count timer__count_hours"></span>\n                <span class="timer__units timer__units_hours"></span>\n            </p>\n            <p class="timer__item timer__item_minutes">\n                <span class="timer__count timer__count_minutes"></span>\n                <span class="timer__units timer__units_minutes"></span>\n            </p>\n            <p class="timer__item timer__item_seconds">\n                <span class="timer__count timer__count_seconds"></span>\n                <span class="timer__units timer__units_seconds"></span>\n            </p>\n        </div>\n        '},timer=(e,t)=>{const n=document.querySelector(".timer__item_days"),s=document.querySelector(".timer__item_seconds"),i=document.querySelector(".timer__count_days"),_=document.querySelector(".timer__count_hours"),r=document.querySelector(".timer__count_minutes"),o=document.querySelector(".timer__count_seconds"),m=document.querySelector(".timer__units_days"),c=document.querySelector(".timer__units_hours"),u=document.querySelector(".timer__units_minutes"),a=document.querySelector(".timer__units_seconds"),d=()=>{const{timeLeft:l,days:p,hours:y,minutes:f,seconds:h}=getTimeRemaining(e);i.textContent=p,_.textContent=addZero(y),r.textContent=addZero(f),o.textContent=addZero(h),m.textContent=declOfNum(p,["день","дня","дней"]),c.textContent=declOfNum(y,["час","часа","часов"]),u.textContent=declOfNum(f,["минута","минуты","минут"]),a.textContent=declOfNum(h,["секунда","секунды","секунд"]);const q=setTimeout(d,1e3);0===p?(n.style.display="none",s.style.display="flex"):(s.style.display="none",n.style.display="flex"),l<=0&&(clearTimeout(q),t.innerHTML="")};d()};export const findTimer=()=>{document.querySelectorAll("[data-timer-deadline]").forEach((e=>{const t=e.dataset.timerDeadline;createTimer(e),timer(t,e)}))};
//# sourceMappingURL=../../maps/modules/timer.js.map
