{"version":3,"file":"../../script/modules/serviceAPI.js","names":["API_URL","getArticles","async","renderArticles","renderPagination","controlPagination","controlArrows","params","URLSearchParams","window","location","search","has","pathname","includes","pageNum","get","result","fetch","data","meta","pagination","json","console","log","err","getArticle","renderArticle","toString","articleId","getUserName","userId"],"sources":["modules/serviceAPI.js"],"mappings":"OAAQA,YAAc,oBAEf,MAAMC,YAAcC,MACnBC,EACAC,EACAC,EACAC,KAEJ,MAAMC,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAEnD,GAAIJ,EAAOK,IAAI,MAAO,OACtB,IAAKH,OAAOC,SAASG,SAASC,SAAS,cAAe,OAEtD,MAAMC,EAAUR,EAAOS,IAAI,QAAUT,EAAOS,IAAI,QAAU,EAE1D,IACI,MAAMC,QAAeC,MAAM,GAAGlB,sBAAsBe,MAC9CI,KAACA,EAAMC,MAAMC,WAACA,UAAqBJ,EAAOK,OAChDC,QAAQC,IAAI,SAAUL,GAEtBhB,EAAegB,GACff,EAAiBiB,GACjBhB,EAAkBgB,GAClBf,EAAce,EAClB,CAAE,MAAOI,GACLF,QAAQC,IAAIC,EAChB,UAGG,MAAMC,WAAaxB,MAAOyB,IAC7B,MAAMpB,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAEnD,IAAKJ,EAAOqB,YAAcrB,EAAOK,IAAI,QAAS,OAE9C,MAAMiB,EAAYtB,EAAOS,IAAI,MAE7B,IACI,MAAMC,QAAeC,MAAM,GAAGlB,iBAAiB6B,MACzCV,KAACA,SAAcF,EAAOK,OAC5BC,QAAQC,IAAI,SAAUL,GAEtBQ,EAAcR,EAClB,CAAE,MAAOM,GACLF,QAAQC,IAAIC,EAChB,UAGG,MAAMK,YAAc5B,MAAO6B,IAC9B,IACI,MAAMd,QAAeC,MAAM,GAAGlB,iBAAiB+B,MACzCZ,KAACA,SAAcF,EAAOK,OAE5B,OAAOH,CACX,CAAE,MAAOM,GACLF,QAAQC,IAAIC,EAChB","sourcesContent":["import {API_URL} from './const.js';\r\n\r\nexport const getArticles = async (\r\n        renderArticles,\r\n        renderPagination,\r\n        controlPagination,\r\n        controlArrows,\r\n) => {\r\n    const params = new URLSearchParams(window.location.search);\r\n\r\n    if (params.has('id')) return;\r\n    if (!window.location.pathname.includes('/blog.html')) return;\r\n\r\n    const pageNum = params.get('page') ? params.get('page') : 1;\r\n\r\n    try {\r\n        const result = await fetch(`${API_URL}/posts?page=${pageNum}`);\r\n        const {data, meta: {pagination}} = await result.json();\r\n        console.log('data: ', data);\r\n\r\n        renderArticles(data);\r\n        renderPagination(pagination);\r\n        controlPagination(pagination);\r\n        controlArrows(pagination);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getArticle = async (renderArticle) => {\r\n    const params = new URLSearchParams(window.location.search);\r\n\r\n    if (!params.toString() || params.has('page')) return;\r\n\r\n    const articleId = params.get('id');\r\n\r\n    try {\r\n        const result = await fetch(`${API_URL}/posts/${articleId}`);\r\n        const {data} = await result.json();\r\n        console.log('data: ', data);\r\n\r\n        renderArticle(data);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getUserName = async (userId) => {\r\n    try {\r\n        const result = await fetch(`${API_URL}/users/${userId}`);\r\n        const {data} = await result.json();\r\n\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n"]}