{"version":3,"file":"../../script/modules/serviceAPI.js","names":["API_URL","getArticles","async","renderArticles","renderPagination","controlPagination","controlArrows","params","URLSearchParams","window","location","search","has","pathname","pageNum","get","result","fetch","console","log","data","meta","pagination","json","err","getArticle","renderArticle","toString","articleId","getUserName","userId"],"sources":["modules/serviceAPI.js"],"mappings":"OAAQA,YAAc,oBAEf,MAAMC,YAAcC,MACnBC,EACAC,EACAC,EACAC,KAEJ,MAAMC,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAEnD,GAAIJ,EAAOK,IAAI,MAAO,OACtB,GAAiC,eAA7BH,OAAOC,SAASG,SAA2B,OAE/C,MAAMC,EAAUP,EAAOQ,IAAI,QAAUR,EAAOQ,IAAI,QAAU,EAE1D,IACI,MAAMC,QAAeC,MAAM,GAAGjB,sBAAsBc,KACpDI,QAAQC,IAAI,WAAYH,GACxB,MAAMI,KAACA,EAAMC,MAAMC,WAACA,UAAqBN,EAAOO,OAChDL,QAAQC,IAAI,SAAUC,GAEtBjB,EAAeiB,GACfhB,EAAiBkB,GACjBjB,EAAkBiB,GAClBhB,EAAcgB,EAClB,CAAE,MAAOE,GACLN,QAAQC,IAAIK,EAChB,UAGG,MAAMC,WAAavB,MAAOwB,IAC7B,MAAMnB,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAEnD,IAAKJ,EAAOoB,YAAcpB,EAAOK,IAAI,QAAS,OAE9C,MAAMgB,EAAYrB,EAAOQ,IAAI,MAE7B,IACI,MAAMC,QAAeC,MAAM,GAAGjB,iBAAiB4B,MACzCR,KAACA,SAAcJ,EAAOO,OAC5BL,QAAQC,IAAI,SAAUC,GAEtBM,EAAcN,EAClB,CAAE,MAAOI,GACLN,QAAQC,IAAIK,EAChB,UAGG,MAAMK,YAAc3B,MAAO4B,IAC9B,IACI,MAAMd,QAAeC,MAAM,GAAGjB,iBAAiB8B,MACzCV,KAACA,SAAcJ,EAAOO,OAE5B,OAAOH,CACX,CAAE,MAAOI,GACLN,QAAQC,IAAIK,EAChB","sourcesContent":["import {API_URL} from './const.js';\r\n\r\nexport const getArticles = async (\r\n        renderArticles,\r\n        renderPagination,\r\n        controlPagination,\r\n        controlArrows,\r\n) => {\r\n    const params = new URLSearchParams(window.location.search);\r\n\r\n    if (params.has('id')) return;\r\n    if (window.location.pathname !== '/blog.html') return;\r\n\r\n    const pageNum = params.get('page') ? params.get('page') : 1;\r\n\r\n    try {\r\n        const result = await fetch(`${API_URL}/posts?page=${pageNum}`);\r\n        console.log('result: ', result);\r\n        const {data, meta: {pagination}} = await result.json();\r\n        console.log('data: ', data);\r\n\r\n        renderArticles(data);\r\n        renderPagination(pagination);\r\n        controlPagination(pagination);\r\n        controlArrows(pagination);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getArticle = async (renderArticle) => {\r\n    const params = new URLSearchParams(window.location.search);\r\n\r\n    if (!params.toString() || params.has('page')) return;\r\n\r\n    const articleId = params.get('id');\r\n\r\n    try {\r\n        const result = await fetch(`${API_URL}/posts/${articleId}`);\r\n        const {data} = await result.json();\r\n        console.log('data: ', data);\r\n\r\n        renderArticle(data);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getUserName = async (userId) => {\r\n    try {\r\n        const result = await fetch(`${API_URL}/users/${userId}`);\r\n        const {data} = await result.json();\r\n\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n"]}